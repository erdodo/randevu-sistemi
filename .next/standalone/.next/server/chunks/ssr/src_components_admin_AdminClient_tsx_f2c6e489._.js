module.exports=[7005,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(40376),e=a.i(68114),f=a.i(13749),g=a.i(50522),h=a.i(70106);let i=(0,h.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),j=(0,h.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k=(0,h.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),l=(0,h.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var m=a.i(33508),n=a.i(96221),o=a.i(63519),p=a.i(41710);let q=(0,h.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),r=(0,h.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),s=(0,h.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var t=a.i(60702);let u=(0,h.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),v=(0,h.default)("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]),w=(0,h.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=(0,h.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),y=(0,h.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),z=(0,h.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),A=(0,h.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),B=(0,h.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var C=a.i(43108);let D=(0,h.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function E({business:a,template:d,onClose:e,onSave:f}){let[g,h]=(0,c.useState)(a.name),[i,j]=(0,c.useState)(a.description??""),[k,l]=(0,c.useState)(a.address??""),[o,q]=(0,c.useState)(a.phone??""),[r,s]=(0,c.useState)(a.logo??""),[t,u]=(0,c.useState)(a.primaryColor),[v,y]=(0,c.useState)(a.openTime),[z,E]=(0,c.useState)(a.closeTime),[H,I]=(0,c.useState)(a.slotDuration),[J,K]=(0,c.useState)(a.workingDays.split(",").map(Number)),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(a.services.map(a=>({name:a.name,duration:a.duration,price:a.price?String(a.price):""}))),[P,Q]=(0,c.useState)("brand"),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(""),V=async()=>{S(!0),U("");try{let b=await fetch(`/api/businesses/${a.slug}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminPassword:a.adminPassword,name:g,description:i,address:k,phone:o,logo:r||null,primaryColor:t,openTime:v,closeTime:z,slotDuration:H,workingDays:J.join(","),newPassword:L||void 0,services:N.filter(a=>a.name.trim()).map(a=>({name:a.name.trim(),duration:a.duration,price:a.price?parseFloat(a.price):null}))})});if(!b.ok){let a=await b.json();throw Error(a.error??"KayÄ±t baÅŸarÄ±sÄ±z")}let c=await b.json();f(c),e()}catch(a){U(a instanceof Error?a.message:"Hata oluÅŸtu")}finally{S(!1)}},W=[{id:"brand",label:"Marka",icon:(0,b.jsx)(A,{className:"w-4 h-4"})},{id:"hours",label:"Saatler",icon:(0,b.jsx)(p.Clock,{className:"w-4 h-4"})},{id:"services",label:"Hizmetler",icon:(0,b.jsx)(B,{className:"w-4 h-4"})},{id:"security",label:"GÃ¼venlik",icon:(0,b.jsx)(C.Lock,{className:"w-4 h-4"})}];return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center px-4 pb-4 sm:pb-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),(0,b.jsxs)("div",{className:"relative bg-white rounded-3xl w-full max-w-lg shadow-2xl max-h-[90vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6 pb-4 border-b border-gray-100 flex-shrink-0",children:[(0,b.jsx)("h2",{className:"font-bold text-gray-900 text-xl",children:"Ä°ÅŸletme AyarlarÄ±"}),(0,b.jsx)("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:(0,b.jsx)(m.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"flex gap-1 px-6 py-3 border-b border-gray-100 flex-shrink-0 overflow-x-auto",children:W.map(c=>(0,b.jsxs)("button",{onClick:()=>Q(c.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all flex-shrink-0 ${P===c.id?"text-white":"text-gray-500 hover:bg-gray-100"}`,style:P===c.id?{backgroundColor:a.primaryColor}:{},children:[c.icon," ",c.label]},c.id))}),(0,b.jsxs)("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:["brand"===P&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(G,{label:"Ä°ÅŸletme AdÄ±",children:(0,b.jsx)("input",{value:g,onChange:a=>h(a.target.value),className:F,placeholder:"Ä°ÅŸletme adÄ±"})}),(0,b.jsx)(G,{label:"AÃ§Ä±klama",children:(0,b.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),className:`${F} resize-none`,rows:2,placeholder:"KÄ±sa tanÄ±tÄ±m"})}),(0,b.jsx)(G,{label:"Adres",children:(0,b.jsx)("input",{value:k,onChange:a=>l(a.target.value),className:F,placeholder:"Ä°ÅŸletme adresi"})}),(0,b.jsx)(G,{label:"Telefon",children:(0,b.jsx)("input",{value:o,onChange:a=>q(a.target.value),className:F,placeholder:"0xxx xxx xx xx",type:"tel"})}),(0,b.jsx)(G,{label:"Logo URL",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:r,onChange:a=>s(a.target.value),className:`${F} flex-1`,placeholder:"https://... veya boÅŸ bÄ±rakÄ±n"}),r&&(0,b.jsx)("img",{src:r,alt:"",className:"w-10 h-10 rounded-xl object-cover border border-gray-200",onError:()=>s("")})]})}),(0,b.jsx)(G,{label:"Ana Renk",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"color",value:t,onChange:a=>u(a.target.value),className:"w-12 h-10 rounded-xl cursor-pointer border-none p-0.5"}),(0,b.jsx)("input",{value:t,onChange:a=>u(a.target.value),className:`${F} flex-1 font-mono uppercase`,placeholder:"#6366f1",maxLength:7}),(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl shadow-sm",style:{backgroundColor:t}})]})})]}),"hours"===P&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsx)(G,{label:"Ã‡alÄ±ÅŸma GÃ¼nleri",children:(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:["Paz","Pzt","Sal","Ã‡ar","Per","Cum","Cmt"].map((c,d)=>(0,b.jsx)("button",{onClick:()=>{K(a=>a.includes(d)?a.filter(a=>a!==d):[...a,d].sort())},className:`w-10 h-10 rounded-xl text-sm font-medium transition-all ${J.includes(d)?"text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,style:J.includes(d)?{backgroundColor:a.primaryColor}:{},children:c},d))})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(G,{label:"AÃ§Ä±lÄ±ÅŸ",children:(0,b.jsx)("input",{type:"time",value:v,onChange:a=>y(a.target.value),className:F})}),(0,b.jsx)(G,{label:"KapanÄ±ÅŸ",children:(0,b.jsx)("input",{type:"time",value:z,onChange:a=>E(a.target.value),className:F})})]}),(0,b.jsx)(G,{label:"Randevu SÃ¼resi (dk)",children:(0,b.jsx)("select",{value:H,onChange:a=>I(Number(a.target.value)),className:F,children:[15,20,30,45,50,60,90,120].map(a=>(0,b.jsxs)("option",{value:a,children:[a," dakika"]},a))})})]}),"services"===P&&(0,b.jsxs)("div",{className:"space-y-3",children:[N.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("input",{value:a.name,onChange:a=>O(b=>b.map((b,d)=>d===c?{...b,name:a.target.value}:b)),className:`${F} text-sm`,placeholder:"Hizmet adÄ±"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"number",value:a.duration,onChange:a=>O(b=>b.map((b,d)=>d===c?{...b,duration:Number(a.target.value)}:b)),className:`${F} text-sm w-20`,placeholder:"SÃ¼re (dk)",min:5}),(0,b.jsx)("input",{type:"number",value:a.price,onChange:a=>O(b=>b.map((b,d)=>d===c?{...b,price:a.target.value}:b)),className:`${F} text-sm flex-1`,placeholder:"Fiyat (â‚º, opsiyonel)",min:0})]})]}),(0,b.jsx)("button",{onClick:()=>O(a=>a.filter((a,b)=>b!==c)),className:"p-2.5 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all mt-0.5",children:(0,b.jsx)(x,{className:"w-4 h-4"})})]},c)),(0,b.jsxs)("button",{onClick:()=>O(a=>[...a,{name:"",duration:30,price:""}]),className:"w-full py-3 rounded-xl border-2 border-dashed border-gray-200 text-gray-500 hover:border-gray-300 hover:text-gray-700 flex items-center justify-center gap-2 text-sm font-medium transition-all",children:[(0,b.jsx)(w,{className:"w-4 h-4"})," Hizmet Ekle"]})]}),"security"===P&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(G,{label:"Yeni Åžifre",children:(0,b.jsx)("input",{type:"password",value:L,onChange:a=>M(a.target.value),className:F,placeholder:"BoÅŸ bÄ±rakÄ±rsanÄ±z deÄŸiÅŸmez"})}),(0,b.jsx)("div",{className:"bg-amber-50 rounded-xl p-3",children:(0,b.jsx)("p",{className:"text-amber-700 text-sm",children:"Åžifreyi deÄŸiÅŸtirmek iÃ§in yeni ÅŸifreyi girin ve kaydedin."})})]})]}),T&&(0,b.jsx)("p",{className:"px-6 text-red-500 text-sm",children:T}),(0,b.jsx)("div",{className:"px-6 pb-6 pt-4 border-t border-gray-100 flex-shrink-0",children:(0,b.jsx)("button",{onClick:V,disabled:R,className:"w-full py-3.5 rounded-xl font-semibold text-white flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg disabled:opacity-70",style:{backgroundColor:a.primaryColor},children:R?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"})," Kaydediliyor..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D,{className:"w-5 h-5"})," Kaydet"]})})})]})]})}let F="w-full px-3.5 py-2.5 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 bg-gray-50 text-sm transition-all";function G({label:a,children:c}){return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),c]})}let H=["Ocak","Åžubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄŸustos","EylÃ¼l","Ekim","KasÄ±m","AralÄ±k"],I=["Pzt","Sal","Ã‡ar","Per","Cum","Cmt","Paz"],J="admin_auth";function K({business:a,template:h}){let[l,m]=(0,c.useState)(!1),[p,r]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(a),[F,G]=(0,c.useState)("calendar"),K=new Date,O=(0,e.getTodayString)(),[P,Q]=(0,c.useState)(K.getMonth()),[R,S]=(0,c.useState)(K.getFullYear()),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)(O),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)([]),[ab,ac]=(0,c.useState)(0),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)([]),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)([]),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(""),[ar,as]=(0,c.useState)("appointment_created"),[at,au]=(0,c.useState)(""),[av,aw]=(0,c.useState)(!1),ax=(0,c.useRef)(null),ay=C.primaryColor;C.workingDays.split(",").map(Number),(0,c.useEffect)(()=>{"true"===sessionStorage.getItem(J)&&m(!0)},[]);let az=(0,c.useCallback)(async(b,c)=>{Y(!0);try{let d=`${b}-${String(c+1).padStart(2,"0")}`,e=await fetch(`/api/appointments?slug=${a.slug}&month=${d}`),f=await e.json();U(Array.isArray(f)?f:[])}catch{}finally{Y(!1)}},[a.slug]),aA=(0,c.useCallback)(async()=>{try{let b=await fetch(`/api/notifications?slug=${a.slug}`),c=await b.json();aa(c.notifications??[]),ac(c.unreadCount??0)}catch{}},[a.slug]),aB=(0,c.useCallback)(async()=>{ak(!0);try{let a=await fetch("/api/customers"),b=await a.json();ai(Array.isArray(b)?b:[])}catch{}finally{ak(!1)}},[]);(0,c.useEffect)(()=>{if(l)return az(R,P),aA(),ax.current=setInterval(aA,3e4),()=>{ax.current&&clearInterval(ax.current)}},[l,R,P,az,aA]);let aC=(0,c.useCallback)(async()=>{ao(!0);try{let a=await fetch("/api/webhooks"),b=await a.json();am(Array.isArray(b)?b:[])}catch{}finally{ao(!1)}},[]);(0,c.useEffect)(()=>{l&&"customers"===F&&aB(),l&&"webhooks"===F&&aC()},[l,F,aB,aC]);let aD=async()=>{if(ap.trim()){aw(!0);try{let a=await fetch("/api/webhooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:ap.trim(),event:ar,secret:at.trim()||void 0})});if(a.ok){let b=await a.json();am(a=>[b,...a]),aq(""),au("")}}catch{}finally{aw(!1)}}},aE=async a=>{am(b=>b.filter(b=>b.id!==a)),await fetch(`/api/webhooks?id=${a}`,{method:"DELETE"})},aF=async(a,b)=>{am(c=>c.map(c=>c.id===a?{...c,isActive:b}:c)),await fetch("/api/webhooks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,isActive:b})})},aG=async(a,b)=>{$(a);try{await fetch(`/api/appointments/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})}),U(c=>c.map(c=>c.id===a?{...c,status:b}:c)),aA()}catch{}finally{$(null)}},aH=async()=>{await fetch("/api/notifications/all",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessId:a.id})}),ac(0),aa(a=>a.map(a=>({...a,isRead:!0})))},aI=function(a,b){let c=new Date(a,b+1,0).getDate(),d=Array((new Date(a,b,1).getDay()+6)%7).fill(null);for(let a=1;a<=c;a++)d.push(a);return d}(R,P),aJ={};for(let a of T)aJ[a.date]||(aJ[a.date]=[]),aJ[a.date].push(a);let aK=V?(aJ[V]??[]).sort((a,b)=>a.time.localeCompare(b.time)):[],aL=(aJ[O]??[]).length,aM=T.filter(a=>"pending"===a.status).length;return l?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsxs)("div",{className:`bg-gradient-to-r ${h.heroGradient} px-4 pt-10 pb-5 sticky top-0 z-20`,children:[(0,b.jsxs)("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[C.logo?(0,b.jsx)("img",{src:C.logo,alt:C.name,className:"w-10 h-10 rounded-xl object-cover shadow"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center text-xl shadow",children:h.emoji}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-bold text-base leading-tight",children:C.name}),(0,b.jsx)("p",{className:"text-white/60 text-xs",children:"YÃ¶netim Paneli"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>{az(R,P),aA()},className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-all",children:(0,b.jsx)(q,{className:`w-4 h-4 ${X?"animate-spin":""}`})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>{ae(!ad),!ad&&ab>0&&aH()},className:"relative p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-all",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),ab>0&&(0,b.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 rounded-full bg-red-500 text-white text-[10px] font-bold flex items-center justify-center",children:ab>9?"9+":ab})]}),ad&&(0,b.jsx)(N,{notifications:_,onClose:()=>ae(!1)})]}),(0,b.jsx)("button",{onClick:()=>ag(!0),className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-all",children:(0,b.jsx)(j,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{sessionStorage.removeItem(J),m(!1)},className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-all",children:(0,b.jsx)(k,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"max-w-lg mx-auto grid grid-cols-2 gap-2 mt-4",children:[(0,b.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm rounded-2xl px-4 py-3",children:[(0,b.jsx)("p",{className:"text-white/60 text-xs font-medium",children:"BugÃ¼n"}),(0,b.jsx)("p",{className:"text-white text-2xl font-bold",children:aL}),(0,b.jsx)("p",{className:"text-white/60 text-xs",children:"randevu"})]}),(0,b.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm rounded-2xl px-4 py-3",children:[(0,b.jsx)("p",{className:"text-white/60 text-xs font-medium",children:"Onay Bekleyen"}),(0,b.jsx)("p",{className:"text-white text-2xl font-bold",children:aM}),(0,b.jsx)("p",{className:"text-white/60 text-xs",children:"bu ay"})]})]}),(0,b.jsxs)("div",{className:"max-w-lg mx-auto flex gap-1 mt-4 bg-white/10 rounded-2xl p-1",children:[(0,b.jsxs)("button",{onClick:()=>G("calendar"),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-sm font-semibold transition-all ${"calendar"===F?"bg-white text-gray-900 shadow":"text-white/70 hover:text-white"}`,children:[(0,b.jsx)(t.CalendarDays,{className:"w-4 h-4"})," Takvim"]}),(0,b.jsxs)("button",{onClick:()=>G("customers"),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-sm font-semibold transition-all ${"customers"===F?"bg-white text-gray-900 shadow":"text-white/70 hover:text-white"}`,children:[(0,b.jsx)(s,{className:"w-4 h-4"})," MÃ¼ÅŸteriler"]}),(0,b.jsxs)("button",{onClick:()=>G("webhooks"),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-xl text-sm font-semibold transition-all ${"webhooks"===F?"bg-white text-gray-900 shadow":"text-white/70 hover:text-white"}`,children:[(0,b.jsx)(v,{className:"w-4 h-4"})," Webhook"]})]})]}),(0,b.jsxs)("div",{className:"max-w-lg mx-auto px-4 mt-4 pb-16",children:["calendar"===F&&(0,b.jsxs)("div",{className:"animate-in",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-md border border-gray-100 p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsx)("button",{onClick:()=>{0===P?(Q(11),S(a=>a-1)):Q(a=>a-1),W(null)},className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors",style:{backgroundColor:`${ay}15`},children:(0,b.jsx)(f.ChevronLeft,{className:"w-5 h-5",style:{color:ay}})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-lg",children:H[P]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:R})]}),(0,b.jsx)("button",{onClick:()=>{11===P?(Q(0),S(a=>a+1)):Q(a=>a+1),W(null)},className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors",style:{backgroundColor:`${ay}15`},children:(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5",style:{color:ay}})})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 mb-2",children:I.map(a=>(0,b.jsx)("div",{className:"text-center text-xs font-semibold text-gray-400 py-1",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:aI.map((a,c)=>{if(!a)return(0,b.jsx)("div",{},c);let d=`${R}-${String(P+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`,f=d<(0,e.getTodayString)(),g=d===O,h=d===V,i=aJ[d]??[],j=i.length,k=i.some(a=>"pending"===a.status);return(0,b.jsxs)("button",{onClick:()=>W(h?null:d),className:`aspect-square rounded-xl flex flex-col items-center justify-center relative transition-all active:scale-95
                        ${h?"text-white shadow-lg scale-110":"hover:bg-gray-50"}
                        ${!h&&g?"ring-2 ring-offset-1":""}
                        ${f&&!h?"opacity-50":""}
                      `,style:h?{backgroundColor:ay}:g?{outline:`2px solid ${ay}`,outlineOffset:"2px"}:{},children:[(0,b.jsx)("span",{className:`text-sm font-bold ${h?"text-white":f?"text-gray-400":"text-gray-800"}`,children:a}),j>0&&(0,b.jsx)("span",{className:`text-[9px] font-bold leading-none px-1 rounded-full mt-0.5 ${h?"bg-white/30 text-white":""}`,style:h?{}:{color:k?"#f59e0b":ay},children:j})]},c)})}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-4 px-1",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-amber-400"})," Onay bekliyor"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ay}})," ","OnaylÄ±"]})]})]}),V&&(0,b.jsxs)("div",{className:"mt-4 animate-in",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3 px-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900",children:(0,d.formatDayHeader)(V)}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[aK.length," randevu"]})]}),0===aK.length?(0,b.jsx)("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400 font-medium",children:"Bu gÃ¼n randevu yok"})}):(0,b.jsx)("div",{className:"space-y-2",children:aK.map(a=>(0,b.jsx)(M,{appt:a,onUpdate:aG,updatingId:Z,primaryColor:ay},a.id))})]}),!V&&(0,b.jsx)("div",{className:"text-center mt-8",children:(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"RandevularÄ± gÃ¶rmek iÃ§in takvimden bir gÃ¼n seÃ§in"})})]}),"customers"===F&&(0,b.jsxs)("div",{className:"animate-in",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900",children:"MÃ¼ÅŸteri Listesi"}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[ah.length," kiÅŸi"]})]}),aj?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(n.Loader2,{className:"w-7 h-7 animate-spin",style:{color:ay}})}):0===ah.length?(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-10 text-center",children:[(0,b.jsx)(s,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-400 font-medium",children:"HenÃ¼z mÃ¼ÅŸteri yok"}),(0,b.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"Ä°lk randevu ile mÃ¼ÅŸteriler otomatik oluÅŸur"})]}):(0,b.jsx)("div",{className:"space-y-2",children:ah.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-11 h-11 rounded-2xl flex items-center justify-center text-white font-bold flex-shrink-0",style:{backgroundColor:ay},children:(0,b.jsx)(u,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:a.name}),(0,b.jsxs)("a",{href:`tel:${a.phone}`,className:"text-gray-500 text-sm flex items-center gap-1 hover:text-gray-700",children:[(0,b.jsx)(o.Phone,{className:"w-3 h-3"}),a.phone]})]}),(0,b.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,b.jsx)("p",{className:"text-lg font-bold",style:{color:ay},children:a.appointmentCount}),(0,b.jsx)("p",{className:"text-gray-400 text-xs",children:"randevu"})]})]},a.id))})]}),"webhooks"===F&&(0,b.jsxs)("div",{className:"animate-in",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-5 mb-4",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 mb-3",children:"Yeni Webhook Ekle"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"url",value:ap,onChange:a=>aq(a.target.value),placeholder:"https://example.com/webhook",className:"w-full px-4 py-3 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-2"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>as("appointment_created"),className:`flex-1 py-2.5 rounded-xl text-xs font-semibold border transition-all ${"appointment_created"===ar?"text-white border-transparent":"bg-gray-50 text-gray-600 border-gray-200"}`,style:"appointment_created"===ar?{backgroundColor:ay}:{},children:"Randevu OluÅŸturuldu"}),(0,b.jsx)("button",{onClick:()=>as("appointment_approved"),className:`flex-1 py-2.5 rounded-xl text-xs font-semibold border transition-all ${"appointment_approved"===ar?"text-white border-transparent":"bg-gray-50 text-gray-600 border-gray-200"}`,style:"appointment_approved"===ar?{backgroundColor:ay}:{},children:"Randevu OnaylandÄ±"})]}),(0,b.jsx)("input",{type:"text",value:at,onChange:a=>au(a.target.value),placeholder:"Secret key (opsiyonel)",className:"w-full px-4 py-3 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-2"}),(0,b.jsxs)("button",{onClick:aD,disabled:av||!ap.trim(),className:"w-full py-3 rounded-2xl font-bold text-white text-sm transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2",style:{backgroundColor:ay},children:[av?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(w,{className:"w-4 h-4"}),"Ekle"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3 px-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900",children:"KayÄ±tlÄ± Webhook'lar"}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[al.length," adet"]})]}),an?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(n.Loader2,{className:"w-7 h-7 animate-spin",style:{color:ay}})}):0===al.length?(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-10 text-center",children:[(0,b.jsx)(v,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-400 font-medium",children:"HenÃ¼z webhook yok"}),(0,b.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"YukarÄ±dan yeni bir webhook ekleyin"})]}):(0,b.jsx)("div",{className:"space-y-2",children:al.map(a=>(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${a.isActive?"text-white":"bg-gray-100 text-gray-400"}`,style:a.isActive?{backgroundColor:ay}:{},children:(0,b.jsx)(v,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:`text-sm font-mono break-all ${a.isActive?"text-gray-900":"text-gray-400 line-through"}`,children:a.url}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${"appointment_created"===a.event?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:"appointment_created"===a.event?"OluÅŸturuldu":"OnaylandÄ±"}),a.secret&&(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"ðŸ”‘ Secret"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,b.jsx)("button",{onClick:()=>aF(a.id,!a.isActive),className:"p-2 rounded-xl hover:bg-gray-50 transition-colors",title:a.isActive?"Devre dÄ±ÅŸÄ± bÄ±rak":"AktifleÅŸtir",children:a.isActive?(0,b.jsx)(z,{className:"w-5 h-5",style:{color:ay}}):(0,b.jsx)(y,{className:"w-5 h-5 text-gray-300"})}),(0,b.jsx)("button",{onClick:()=>aE(a.id),className:"p-2 rounded-xl text-red-400 hover:bg-red-50 hover:text-red-500 transition-colors",children:(0,b.jsx)(x,{className:"w-4 h-4"})})]})]})},a.id))}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-2xl p-4 mt-4",children:(0,b.jsxs)("p",{className:"text-gray-500 text-xs leading-relaxed",children:[(0,b.jsx)("strong",{children:"Webhook Payload:"})," Her tetiklemede POST isteÄŸi gÃ¶nderilir.",(0,b.jsx)("br",{}),"Header:"," ",(0,b.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"Content-Type: application/json"}),(0,b.jsx)("br",{}),"Secret varsa:"," ",(0,b.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:"X-Webhook-Secret: ***"}),(0,b.jsx)("br",{}),"Body:"," ",(0,b.jsx)("code",{className:"bg-gray-200 px-1 rounded",children:'{"event", "timestamp", "data": {â€¦}}'})]})})]})]}),af&&(0,b.jsx)(E,{business:C,template:h,onClose:()=>ag(!1),onSave:a=>{D(a),az(R,P)}})]}):(0,b.jsx)(L,{password:p,setPassword:r,error:A,onLogin:()=>{p===C.adminPassword?(sessionStorage.setItem(J,"true"),m(!0),B("")):B("Åžifre hatalÄ±")},business:C,template:h})}function L({password:a,setPassword:c,error:d,onLogin:e,business:f,template:g}){return(0,b.jsx)("div",{className:`min-h-screen bg-gradient-to-br ${g.heroGradient} flex items-center justify-center px-5`,children:(0,b.jsxs)("div",{className:"w-full max-w-xs",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[f.logo?(0,b.jsx)("img",{src:f.logo,alt:f.name,className:"w-20 h-20 rounded-3xl object-cover mx-auto mb-4 shadow-2xl"}):(0,b.jsx)("div",{className:"w-20 h-20 rounded-3xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl mx-auto mb-4 shadow-2xl",children:g.emoji}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:f.name}),(0,b.jsx)("p",{className:"text-white/60 mt-1 text-sm",children:"YÃ¶netim Paneli"})]}),(0,b.jsx)("div",{className:"bg-white rounded-3xl p-6 shadow-2xl",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{type:"password",value:a,onChange:a=>c(a.target.value),placeholder:"Åžifre",className:"w-full px-4 py-4 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 text-base focus:outline-none focus:ring-2 text-center tracking-widest",onKeyDown:a=>"Enter"===a.key&&e(),autoFocus:!0}),d&&(0,b.jsx)("p",{className:"text-red-500 text-sm text-center",children:d}),(0,b.jsx)("button",{onClick:e,className:"w-full py-4 rounded-2xl font-bold text-white text-base transition-all active:scale-[0.98] shadow-lg",style:{backgroundColor:f.primaryColor},children:"GiriÅŸ Yap"})]})})]})})}function M({appt:a,onUpdate:c,updatingId:d,primaryColor:f}){let g=d===a.id;return(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 text-white font-bold text-lg shadow-sm",style:{backgroundColor:f},children:a.time.replace(":","")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-base",children:a.customerName}),(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full border font-medium ${(0,e.getStatusColor)(a.status)}`,children:(0,e.getStatusLabel)(a.status)})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1",children:[(0,b.jsxs)("a",{href:`tel:${a.customerPhone}`,className:"text-sm text-gray-500 flex items-center gap-1 hover:text-gray-700",children:[(0,b.jsx)(o.Phone,{className:"w-3 h-3"}),a.customerPhone]}),(0,b.jsxs)("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,b.jsx)(p.Clock,{className:"w-3 h-3"}),a.time]}),a.service&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:a.service.name})]})]}),"pending"===a.status&&(0,b.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,b.jsx)("button",{onClick:()=>c(a.id,"approved"),disabled:g,className:"w-11 h-11 rounded-2xl bg-emerald-50 text-emerald-600 hover:bg-emerald-100 flex items-center justify-center transition-all active:scale-95 disabled:opacity-50",children:g?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(l,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>c(a.id,"cancelled"),disabled:g,className:"w-11 h-11 rounded-2xl bg-red-50 text-red-500 hover:bg-red-100 flex items-center justify-center transition-all active:scale-95 disabled:opacity-50",children:(0,b.jsx)(m.X,{className:"w-5 h-5"})})]}),"approved"===a.status&&(0,b.jsx)("button",{onClick:()=>c(a.id,"completed"),disabled:g,className:"flex-shrink-0 w-11 h-11 rounded-2xl flex items-center justify-center transition-all active:scale-95 disabled:opacity-50",style:{backgroundColor:`${f}15`,color:f},children:g?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(r,{className:"w-5 h-5"})})]})})}function N({notifications:a,onClose:c}){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:c}),(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,b.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Bildirimler"})}),(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===a.length?(0,b.jsx)("div",{className:"py-6 text-center text-gray-400 text-sm",children:"Bildirim yok"}):a.slice(0,15).map(a=>(0,b.jsxs)("div",{className:`px-4 py-3 border-b border-gray-50 ${!a.isRead?"bg-blue-50/60":""}`,children:[(0,b.jsx)("p",{className:`text-sm ${!a.isRead?"font-semibold text-gray-900":"text-gray-600"}`,children:a.message}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:new Date(a.createdAt).toLocaleString("tr-TR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]},a.id))})]})]})}a.s(["default",()=>K],7005)}];

//# sourceMappingURL=src_components_admin_AdminClient_tsx_f2c6e489._.js.map