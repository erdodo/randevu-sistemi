(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73375,63059,31278,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>a],73375);let s=(0,t.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],63059);let l=(0,t.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>l],31278)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},43432,3116,89853,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>a],43432);let s=(0,t.default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>s],3116);let l=(0,t.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>l],89853)},66608,75157,e=>{"use strict";let t=["Ocak","Åžubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄŸustos","EylÃ¼l","Ekim","KasÄ±m","AralÄ±k"],a=["Pazar","Pazartesi","SalÄ±","Ã‡arÅŸamba","PerÅŸembe","Cuma","Cumartesi"];function s(e){let[s,l,r]=e.split("-").map(Number),i=new Date(s,l-1,r).getDay();return`${a[i]}, ${r} ${t[l-1]}`}function l(){let e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function r(e){return({pending:"Bekliyor",approved:"OnaylandÄ±",cancelled:"Ä°ptal",completed:"TamamlandÄ±"})[e]??e}function i(e){return({pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-emerald-100 text-emerald-700 border-emerald-200",cancelled:"bg-red-100 text-red-700 border-red-200",completed:"bg-sky-100 text-sky-700 border-sky-200"})[e]??"bg-gray-100 text-gray-700 border-gray-200"}e.s(["formatDayHeader",()=>s],66608),e.s(["getStatusColor",()=>i,"getStatusLabel",()=>r,"getTodayString",()=>l],75157)},846,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let s={barber:{id:"barber",label:"KuafÃ¶r & Berber",emoji:"âœ‚ï¸",heroGradient:"from-zinc-900 via-neutral-900 to-stone-900",cardBg:"bg-zinc-800/90",primaryColor:"#c9a227",accentColor:"#1a1a2e",buttonClass:"bg-amber-500 hover:bg-amber-400 text-zinc-900",badgeClass:"bg-amber-500/20 text-amber-400 border-amber-500/30",textOnPrimary:"text-zinc-900",defaultServices:["SaÃ§ Kesimi","Sakal DÃ¼zeltme","FÃ¶n","Boya","Keratin"],tagline:"TarzÄ±nÄ±z, UstalÄ±ÄŸÄ±mÄ±z"},dentist:{id:"dentist",label:"DiÅŸ Hekimi",emoji:"ðŸ¦·",heroGradient:"from-sky-600 via-cyan-600 to-teal-600",cardBg:"bg-white/95",primaryColor:"#0284c7",accentColor:"#e0f2fe",buttonClass:"bg-sky-600 hover:bg-sky-500 text-white",badgeClass:"bg-sky-100 text-sky-700 border-sky-200",textOnPrimary:"text-white",defaultServices:["Genel Muayene","DiÅŸ Temizleme","Dolgu","Kanal Tedavisi","Ä°mplant KonsÃ¼ltasyon"],tagline:"SaÄŸlÄ±klÄ± GÃ¼lÃ¼ÅŸler Ä°Ã§in"},psychologist:{id:"psychologist",label:"Psikolog",emoji:"ðŸ§ ",heroGradient:"from-violet-700 via-purple-700 to-fuchsia-700",cardBg:"bg-white/95",primaryColor:"#7c3aed",accentColor:"#ede9fe",buttonClass:"bg-violet-600 hover:bg-violet-500 text-white",badgeClass:"bg-violet-100 text-violet-700 border-violet-200",textOnPrimary:"text-white",defaultServices:["Bireysel Terapi","Ã‡ift Terapisi","Ã‡ocuk & Ergen","Kariyer DanÄ±ÅŸmanlÄ±ÄŸÄ±","Online Seans"],tagline:"Ä°yilik Halinize DoÄŸru"},spa:{id:"spa",label:"GÃ¼zellik & Spa",emoji:"ðŸ’†",heroGradient:"from-rose-500 via-pink-500 to-fuchsia-500",cardBg:"bg-white/95",primaryColor:"#e11d48",accentColor:"#fff1f2",buttonClass:"bg-rose-500 hover:bg-rose-400 text-white",badgeClass:"bg-rose-100 text-rose-700 border-rose-200",textOnPrimary:"text-white",defaultServices:["Klasik Masaj","Aromaterapi","Cilt BakÄ±mÄ±","KalÄ±cÄ± Makyaj","Epilasyon"],tagline:"Kendinize Zaman AyÄ±rÄ±n"},nail:{id:"nail",label:"Nail Studio",emoji:"ðŸ’…",heroGradient:"from-fuchsia-600 via-pink-600 to-rose-500",cardBg:"bg-white/95",primaryColor:"#c026d3",accentColor:"#fdf4ff",buttonClass:"bg-fuchsia-600 hover:bg-fuchsia-500 text-white",badgeClass:"bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200",textOnPrimary:"text-white",defaultServices:["KalÄ±cÄ± Oje","Nail Art","ManikÃ¼r","PedikÃ¼r","TÄ±rnak Uzatma"],tagline:"Her El Bir Sanat Eseri"},fitness:{id:"fitness",label:"Fitness & PT",emoji:"ðŸ’ª",heroGradient:"from-orange-600 via-red-600 to-rose-700",cardBg:"bg-zinc-900/90",primaryColor:"#f97316",accentColor:"#1c1c1c",buttonClass:"bg-orange-500 hover:bg-orange-400 text-white",badgeClass:"bg-orange-500/20 text-orange-400 border-orange-500/30",textOnPrimary:"text-white",defaultServices:["PT SeansÄ±","Beslenme DanÄ±ÅŸmanlÄ±ÄŸÄ±","Grup Dersi","VÃ¼cut Analizi","Program HazÄ±rlama"],tagline:"Limitlerini Yeniden Belirle"}};Object.values(s);var l=e.i(63059),r=e.i(73375),i=e.i(31278),n=e.i(75254);let o=(0,n.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),d=(0,n.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);var c=e.i(70756);let x=Object.values(s);function m(){let[e,s]=(0,a.useState)("template"),[n,m]=(0,a.useState)(null),[h,u]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[C,S]=(0,a.useState)(!1),[z,D]=(0,a.useState)(""),$=async()=>{if(!j||j.length<4)return void D("Åžifre en az 4 karakter olmalÄ±");if(j!==N)return void D("Åžifreler eÅŸleÅŸmiyor");S(!0),D("");try{let e=await fetch("/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sector:n.id,name:h.trim(),phone:b.trim(),password:j,address:p.trim()||void 0,description:y.trim()||void 0})});if(!e.ok){let t=await e.json();throw Error(t.error??"Kurulum baÅŸarÄ±sÄ±z")}window.location.href="/"}catch(e){D(e instanceof Error?e.message:"Hata oluÅŸtu")}finally{S(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-950 relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-1/4 -left-20 w-80 h-80 bg-violet-600/15 rounded-full blur-[100px]"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 -right-20 w-80 h-80 bg-pink-600/15 rounded-full blur-[100px]"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-500/10 rounded-full blur-[120px]"})]}),(0,t.jsx)("div",{className:"relative flex justify-center gap-2 pt-10 pb-4",children:["template","info","password"].map((a,s)=>(0,t.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-500 ${a===e?"w-8 bg-white":s<["template","info","password"].indexOf(e)?"w-4 bg-white/50":"w-4 bg-white/20"}`},a))}),(0,t.jsxs)("div",{className:"relative max-w-md mx-auto px-5 pb-12",children:["template"===e&&(0,t.jsxs)("div",{className:"animate-in fade-in",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-white/80 text-sm mb-5 border border-white/10",children:[(0,t.jsx)(o,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"HoÅŸgeldiniz"})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-3",children:"DÃ¼kkanÄ±nÄ±zÄ± KuralÄ±m"}),(0,t.jsx)("p",{className:"text-white/50 text-base",children:"Ä°ÅŸletmenize uygun bir ÅŸablon seÃ§in"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:x.map(e=>(0,t.jsxs)("button",{onClick:()=>{m(e),s("info")},className:`group bg-gradient-to-br ${e.heroGradient} rounded-2xl p-5 text-left transition-all duration-200 hover:scale-[1.03] active:scale-[0.98] shadow-lg hover:shadow-xl border border-white/10`,children:[(0,t.jsx)("div",{className:"text-3xl mb-3",children:e.emoji}),(0,t.jsx)("p",{className:"text-white font-bold text-sm leading-tight",children:e.label}),(0,t.jsx)("p",{className:"text-white/50 text-xs mt-1 leading-snug",children:e.tagline}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-3 text-white/40 group-hover:text-white/70 transition-colors",children:[(0,t.jsx)("span",{className:"text-xs font-medium",children:"SeÃ§"}),(0,t.jsx)(l.ChevronRight,{className:"w-3 h-3"})]})]},e.id))})]}),"info"===e&&(0,t.jsxs)("div",{className:"animate-in fade-in",children:[(0,t.jsxs)("button",{onClick:()=>s("template"),className:"flex items-center gap-1 text-white/50 hover:text-white/80 text-sm mb-6 transition-colors",children:[(0,t.jsx)(r.ChevronLeft,{className:"w-4 h-4"}),"Geri"]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center text-3xl mx-auto mb-4 border border-white/10",children:(0,t.jsx)(d,{className:"w-7 h-7 text-white"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"DÃ¼kkan Bilgileri"}),(0,t.jsxs)("p",{className:"text-white/50 text-sm",children:[n?.emoji," ",n?.label]})]}),(0,t.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"DÃ¼kkan AdÄ± *"}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),placeholder:"Ã–rn: Studio GÃ¼zel",className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Telefon *"}),(0,t.jsx)("input",{type:"tel",value:b,onChange:e=>g(e.target.value),placeholder:"05xx xxx xx xx",className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:["Adres ",(0,t.jsx)("span",{className:"text-white/30",children:"(opsiyonel)"})]}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Ä°lÃ§e, Åžehir",className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:["AÃ§Ä±klama ",(0,t.jsx)("span",{className:"text-white/30",children:"(opsiyonel)"})]}),(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"KÄ±sa bir tanÄ±tÄ±m yazÄ±sÄ±",rows:2,className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all resize-none"})]}),z&&(0,t.jsx)("p",{className:"text-red-400 text-sm text-center bg-red-500/10 rounded-xl px-3 py-2",children:z}),(0,t.jsxs)("button",{onClick:()=>{h.trim()?!b.trim()||b.replace(/\D/g,"").length<10?D("GeÃ§erli bir telefon numarasÄ± girin"):(D(""),s("password")):D("DÃ¼kkan adÄ± gerekli")},className:"w-full py-4 rounded-2xl font-bold text-white text-base transition-all active:scale-[0.98] shadow-lg flex items-center justify-center gap-2",style:{backgroundColor:n?.primaryColor??"#6366f1"},children:["Devam Et",(0,t.jsx)(l.ChevronRight,{className:"w-5 h-5"})]})]})]}),"password"===e&&(0,t.jsxs)("div",{className:"animate-in fade-in",children:[(0,t.jsxs)("button",{onClick:()=>{s("info"),D("")},className:"flex items-center gap-1 text-white/50 hover:text-white/80 text-sm mb-6 transition-colors",children:[(0,t.jsx)(r.ChevronLeft,{className:"w-4 h-4"}),"Geri"]}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm flex items-center justify-center mx-auto mb-4 border border-white/10",children:(0,t.jsx)(c.Lock,{className:"w-7 h-7 text-white"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"YÃ¶netim Åžifresi"}),(0,t.jsx)("p",{className:"text-white/50 text-sm",children:"Admin paneline giriÅŸ iÃ§in bir ÅŸifre belirleyin"})]}),(0,t.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Åžifre *"}),(0,t.jsx)("input",{type:"password",value:j,onChange:e=>v(e.target.value),placeholder:"En az 4 karakter",className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all text-center tracking-widest",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-1.5",children:"Åžifre Tekrar *"}),(0,t.jsx)("input",{type:"password",value:N,onChange:e=>k(e.target.value),placeholder:"Åžifrenizi tekrar girin",className:"w-full px-4 py-3.5 rounded-2xl bg-white/10 border border-white/10 text-white placeholder-white/30 text-base focus:outline-none focus:ring-2 focus:ring-white/20 transition-all text-center tracking-widest",onKeyDown:e=>"Enter"===e.key&&$()})]}),z&&(0,t.jsx)("p",{className:"text-red-400 text-sm text-center bg-red-500/10 rounded-xl px-3 py-2",children:z}),(0,t.jsx)("button",{onClick:$,disabled:C,className:"w-full py-4 rounded-2xl font-bold text-white text-base transition-all active:scale-[0.98] shadow-lg disabled:opacity-60 flex items-center justify-center gap-2",style:{backgroundColor:n?.primaryColor??"#6366f1"},children:C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"})," Kurulum YapÄ±lÄ±yor..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"w-5 h-5"})," DÃ¼kkanÄ± OluÅŸtur"]})})]})]})]})]})}e.s(["default",()=>m],846)},63379,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(73375),l=e.i(63059),r=e.i(43432),i=e.i(75254);let n=(0,i.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var o=e.i(3116);let d=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var c=e.i(31278),x=e.i(37727),m=e.i(89853);let h=(0,i.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),u=(0,i.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var b=e.i(66608),g=e.i(75157);let p="randevu_user_info",f="randevu_appointments",y=["Ocak","Åžubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄŸustos","EylÃ¼l","Ekim","KasÄ±m","AralÄ±k"],w=["Pzt","Sal","Ã‡ar","Per","Cum","Cmt","Paz"];function j(e,t,a){return`${e}-${String(t+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`}function v({business:e,template:i}){let v=new Date,k=j(v.getFullYear(),v.getMonth(),v.getDate()),[C,S]=(0,a.useState)(v.getMonth()),[z,D]=(0,a.useState)(v.getFullYear()),[$,M]=(0,a.useState)(null),[T,O]=(0,a.useState)(null),[P,A]=(0,a.useState)([]),[B,E]=(0,a.useState)(!1),[G,K]=(0,a.useState)(!1),[H,F]=(0,a.useState)(""),[L,R]=(0,a.useState)(""),[Y,I]=(0,a.useState)(!1),[q,J]=(0,a.useState)(!1),[U,V]=(0,a.useState)(null),[_,X]=(0,a.useState)(!1),[Z,Q]=(0,a.useState)(""),[W,ee]=(0,a.useState)(null),[et,ea]=(0,a.useState)(null),[es,el]=(0,a.useState)(!0),[er,ei]=(0,a.useState)(!1),en=e.workingDays.split(",").map(Number),eo=e.primaryColor;(0,a.useEffect)(()=>{try{let t=localStorage.getItem(p);if(t){let a=JSON.parse(t);if(a.name&&a.phone){let t;F(a.name),R(a.phone),I(!0);let s=(t=new Date,`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`);fetch(`/api/appointments?slug=${e.slug}&month=${s}`).then(e=>e.json()).then(e=>{if(Array.isArray(e)){let t=e.find(e=>e.customerPhone===a.phone&&"cancelled"!==e.status);t?ea(t):ei(!0)}else ei(!0)}).catch(()=>ei(!0)).finally(()=>el(!1));return}}}catch{}el(!1),ei(!0)},[e.slug]),(0,a.useEffect)(()=>{if(W)try{let e=localStorage.getItem(f),t=e?JSON.parse(e):[];t.push(`${W.date}_${W.time}`),localStorage.setItem(f,JSON.stringify(t))}catch{}},[W]);let ed=(0,a.useCallback)(async t=>{E(!0),A([]);try{let a=await fetch(`/api/timeslots?slug=${e.slug}&date=${t}`),s=await a.json();A(s.slots??[])}catch{A([])}finally{E(!1)}},[e.slug]),ec=async()=>{if(!H.trim()||!L.trim())return void Q("Ä°sim ve telefon numarasÄ± gerekli");if(L.replace(/\D/g,"").length<10)return void Q("GeÃ§erli bir telefon girin");X(!0),Q("");try{localStorage.setItem(p,JSON.stringify({name:H.trim(),phone:L.trim()}));let t=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessId:e.id,customerName:H.trim(),customerPhone:L.trim(),date:$,time:T,serviceId:U||void 0})});if(!t.ok){let e=await t.json();throw Error(e.error??"Hata oluÅŸtu")}ee({date:$,time:T}),K(!1),I(!0),J(!1)}catch(e){Q(e instanceof Error?e.message:"Hata oluÅŸtu")}finally{X(!1)}},ex=function(e,t){let a=new Date(e,t+1,0).getDate(),s=Array((new Date(e,t,1).getDay()+6)%7).fill(null);for(let e=1;e<=a;e++)s.push(e);return s}(z,C),em=z===v.getFullYear()&&C===v.getMonth();return es?(0,t.jsx)("div",{className:`min-h-screen bg-gradient-to-br ${i.heroGradient} flex items-center justify-center`,children:(0,t.jsx)(c.Loader2,{className:"w-8 h-8 text-white animate-spin"})}):W?(0,t.jsx)(N,{name:H,date:W.date,time:W.time,business:e,template:i,onNewBooking:()=>{ee(null),M(null),O(null),A([]),ea(null),ei(!0)}}):et&&!er?(0,t.jsxs)("div",{className:`min-h-screen bg-gradient-to-br ${i.heroGradient} relative`,children:[(0,t.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-1/3 -left-20 w-80 h-80 bg-white/5 rounded-full blur-[100px]"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 -right-20 w-60 h-60 bg-white/5 rounded-full blur-[80px]"})]}),(0,t.jsxs)("div",{className:"relative max-w-sm mx-auto px-5 pt-16 pb-12 flex flex-col items-center min-h-screen",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[e.logo?(0,t.jsx)("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-2xl object-cover mx-auto mb-3 shadow-xl"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-3xl mx-auto mb-3 shadow-xl",children:i.emoji}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:e.name})]}),(0,t.jsxs)("div",{className:"w-full bg-white/10 backdrop-blur-sm rounded-3xl border border-white/15 p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:["pending"===et.status&&(0,t.jsx)(h,{className:"w-5 h-5 text-amber-400"}),"approved"===et.status&&(0,t.jsx)(d,{className:"w-5 h-5 text-emerald-400"}),"cancelled"===et.status&&(0,t.jsx)(u,{className:"w-5 h-5 text-red-400"}),"completed"===et.status&&(0,t.jsx)(d,{className:"w-5 h-5 text-sky-400"}),(0,t.jsx)("h2",{className:"text-white font-bold text-lg",children:"Randevunuz"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/15 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(m.CalendarDays,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50 text-xs",children:"Tarih & Saat"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(0,b.formatDayHeader)(et.date)," Â·"," ",et.time]})]})]}),et.service&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/15 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("span",{className:"text-lg",children:i.emoji})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50 text-xs",children:"Hizmet"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:et.service.name})]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsxs)("div",{className:`inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-bold ${"pending"===et.status?"bg-amber-400/20 text-amber-300":"approved"===et.status?"bg-emerald-400/20 text-emerald-300":"cancelled"===et.status?"bg-red-400/20 text-red-300":"bg-sky-400/20 text-sky-300"}`,children:["pending"===et.status&&(0,t.jsx)(o.Clock,{className:"w-3.5 h-3.5"}),"approved"===et.status&&(0,t.jsx)(d,{className:"w-3.5 h-3.5"}),(0,g.getStatusLabel)(et.status)]})})]})]}),e.phone&&(0,t.jsxs)("a",{href:`tel:${e.phone}`,className:"w-full bg-white/10 backdrop-blur-sm rounded-2xl border border-white/10 px-5 py-4 flex items-center gap-3 mb-4 transition-all active:scale-[0.98]",children:[(0,t.jsx)(r.Phone,{className:"w-5 h-5 text-white/60"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/50 text-xs",children:"Ä°letiÅŸim"}),(0,t.jsx)("p",{className:"text-white font-semibold text-sm",children:e.phone})]})]}),(0,t.jsx)("button",{onClick:()=>ei(!0),className:"w-full py-4 rounded-2xl bg-white font-bold text-base transition-all active:scale-[0.98] shadow-lg mt-auto",style:{color:eo},children:"Yeni Randevu Al"})]})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:`bg-gradient-to-br ${i.heroGradient} px-5 pt-12 pb-8`,children:(0,t.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e.logo?(0,t.jsx)("img",{src:e.logo,alt:e.name,className:"w-16 h-16 rounded-2xl object-cover shadow-xl flex-shrink-0"}):(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-3xl shadow-xl flex-shrink-0",children:i.emoji}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h1",{className:"text-white font-bold text-2xl leading-tight",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-white/70 text-sm mt-0.5 leading-snug",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1.5",children:[e.phone&&(0,t.jsxs)("a",{href:`tel:${e.phone}`,className:"text-white/80 text-xs flex items-center gap-1 hover:text-white",children:[(0,t.jsx)(r.Phone,{className:"w-3 h-3"}),e.phone]}),e.address&&(0,t.jsxs)("span",{className:"text-white/70 text-xs flex items-center gap-1",children:[(0,t.jsx)(n,{className:"w-3 h-3"}),e.address]})]})]})]}),(0,t.jsxs)("div",{className:"mt-5 bg-white/15 backdrop-blur-sm rounded-2xl px-4 py-3 flex items-center gap-2",children:[(0,t.jsx)(m.CalendarDays,{className:"w-5 h-5 text-white flex-shrink-0"}),(0,t.jsx)("p",{className:"text-white font-medium text-sm",children:"Randevu almak iÃ§in takvimden bir gÃ¼n seÃ§in"})]})]})}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto px-4 -mt-2",children:[(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-md border border-gray-100 p-5 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,t.jsx)("button",{onClick:()=>{(z!==v.getFullYear()||C!==v.getMonth())&&(0===C?(S(11),D(e=>e-1)):S(e=>e-1),M(null),O(null),A([]))},disabled:em,className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors disabled:opacity-30",style:{backgroundColor:`${eo}15`},children:(0,t.jsx)(s.ChevronLeft,{className:"w-5 h-5",style:{color:eo}})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-bold text-gray-900 text-lg leading-tight",children:y[C]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:z})]}),(0,t.jsx)("button",{onClick:()=>{11===C?(S(0),D(e=>e+1)):S(e=>e+1),M(null),O(null),A([])},className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors",style:{backgroundColor:`${eo}15`},children:(0,t.jsx)(l.ChevronRight,{className:"w-5 h-5",style:{color:eo}})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 mb-2",children:w.map(e=>(0,t.jsx)("div",{className:"text-center text-xs font-semibold text-gray-400 py-1",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1",children:ex.map((e,a)=>{if(!e)return(0,t.jsx)("div",{},a);let s=j(z,C,e),l=s<k,r=s===k,i=s===$,n=new Date(z,C,e).getDay(),o=en.includes(n),d=!l&&o;return(0,t.jsxs)("button",{onClick:()=>d&&void(M(s),O(null),K(!1),ed(s),setTimeout(()=>{document.getElementById("time-section")?.scrollIntoView({behavior:"smooth",block:"start"})},100)),disabled:!d,className:`aspect-square rounded-xl flex flex-col items-center justify-center text-sm font-semibold transition-all
                    ${i?"text-white scale-110 shadow-lg":""}
                    ${!i&&r?"ring-2 ring-offset-1 text-gray-900 bg-white":""}
                    ${!i&&!r&&d?"text-gray-800 hover:text-white active:scale-95":""}
                    ${l?"text-gray-300 cursor-not-allowed":""}
                    ${!o&&!l?"text-gray-300 cursor-not-allowed":""}
                  `,style:i?{backgroundColor:eo}:r?{outline:`2px solid ${eo}`,outlineOffset:"2px"}:{},onMouseEnter:e=>{d&&!i&&(e.currentTarget.style.backgroundColor=eo,e.currentTarget.style.color="white")},onMouseLeave:e=>{d&&!i&&(e.currentTarget.style.backgroundColor="",e.currentTarget.style.color="")},children:[e,r&&!i&&(0,t.jsx)("span",{className:"w-1 h-1 rounded-full mt-0.5",style:{backgroundColor:eo}})]},a)})}),(0,t.jsxs)("p",{className:"text-center text-xs text-gray-400 mt-4",children:["Ã‡alÄ±ÅŸma gÃ¼nleri:"," ",w.filter((e,t)=>en.includes(6===t?0:t+1)).join(" Â· ")," Â· ",e.openTime,"â€“",e.closeTime]})]}),$&&(0,t.jsxs)("div",{id:"time-section",className:"bg-white rounded-3xl shadow-md border border-gray-100 p-5 mt-4 animate-in",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:eo}}),(0,t.jsx)("h3",{className:"font-bold text-gray-900",children:(0,b.formatDayHeader)($)})]}),B?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(c.Loader2,{className:"w-7 h-7 animate-spin",style:{color:eo}})}):0===P.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-400 font-medium",children:"Bu gÃ¼n iÃ§in boÅŸ saat yok"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:"BaÅŸka bir gÃ¼n seÃ§ebilirsiniz"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:P.map(e=>{let a=!e.available,s=e.time===T;return(0,t.jsx)("button",{onClick:()=>!a&&void(O(e.time),K(!0),Q("")),disabled:a,className:`py-3.5 rounded-2xl text-sm font-bold transition-all
                          ${a?"bg-gray-100 text-gray-300 cursor-not-allowed":""}
                          ${!a&&!s?"bg-gray-50 text-gray-700 border border-gray-200 hover:text-white active:scale-95":""}
                          ${s?"text-white scale-105 shadow-md":""}
                        `,style:s?{backgroundColor:eo}:{},onMouseEnter:e=>{a||s||(e.currentTarget.style.backgroundColor=eo,e.currentTarget.style.color="white")},onMouseLeave:e=>{a||s||(e.currentTarget.style.backgroundColor="",e.currentTarget.style.color="")},children:e.time},e.time)})}),(0,t.jsx)("p",{className:"text-center text-xs text-gray-400 mt-3",children:"Bir saate dokunun, randevunuzu alÄ±n"})]})]}),!$&&(0,t.jsx)("div",{className:"text-center mt-8 mb-4",children:(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Takvimde bir gÃ¼n seÃ§in"})}),(0,t.jsx)("div",{className:"h-8"})]}),G&&$&&T&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>{K(!1),O(null)}}),(0,t.jsxs)("div",{className:"relative w-full bg-white rounded-t-3xl shadow-2xl max-w-sm mx-auto animate-slide-up",children:[(0,t.jsx)("div",{className:"w-10 h-1 bg-gray-200 rounded-full mx-auto mt-3"}),(0,t.jsxs)("div",{className:"flex items-start justify-between px-6 pt-4 pb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Randevu Al"}),(0,t.jsxs)("p",{className:"text-gray-500 text-sm mt-0.5",children:[(0,b.formatDayHeader)($)," Â· ",T]})]}),(0,t.jsx)("button",{onClick:()=>{K(!1),O(null)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl -mt-1 -mr-1",children:(0,t.jsx)(x.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"px-6 pb-8 pt-2",children:[!Y||q?(0,t.jsxs)("div",{className:"space-y-3 mb-5",children:[(0,t.jsx)("input",{type:"text",value:H,onChange:e=>F(e.target.value),placeholder:"Ad Soyad",autoFocus:!0,className:"w-full px-4 py-4 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 text-base placeholder-gray-400 focus:outline-none focus:ring-2",style:{"--tw-ring-color":`${eo}40`}}),(0,t.jsx)("input",{type:"tel",value:L,onChange:e=>R(e.target.value),placeholder:"Telefon NumarasÄ± (05xx...)",className:"w-full px-4 py-4 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 text-base placeholder-gray-400 focus:outline-none focus:ring-2",onKeyDown:e=>"Enter"===e.key&&ec()})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-2xl px-4 py-4 mb-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-900 text-base",children:H}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:L})]}),(0,t.jsx)("button",{onClick:()=>J(!0),className:"text-sm font-medium underline",style:{color:eo},children:"DeÄŸiÅŸtir"})]}),e.services&&e.services.length>0&&(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Hizmet seÃ§in"," ",(0,t.jsx)("span",{className:"text-gray-400 font-normal",children:"(opsiyonel)"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.services.map(e=>(0,t.jsxs)("button",{onClick:()=>V(t=>t===e.id?null:e.id),className:`px-3.5 py-2 rounded-xl text-sm font-medium border transition-all active:scale-95 ${U===e.id?"text-white border-transparent shadow-sm":"bg-gray-50 text-gray-700 border-gray-200 hover:border-gray-300"}`,style:U===e.id?{backgroundColor:eo}:{},children:[e.name,null!=e.price&&(0,t.jsxs)("span",{className:"text-xs opacity-70 ml-1",children:["â‚º",e.price]})]},e.id))})]}),Z&&(0,t.jsx)("p",{className:"text-red-500 text-sm text-center bg-red-50 rounded-xl px-3 py-2 mb-4",children:Z}),(0,t.jsx)("button",{onClick:ec,disabled:_,className:"w-full py-4 rounded-2xl font-bold text-white text-base transition-all active:scale-[0.98] shadow-lg disabled:opacity-60 flex items-center justify-center gap-2",style:{backgroundColor:eo},children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"w-5 h-5 animate-spin"})," GÃ¶nderiliyor..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{className:"w-5 h-5"})," Randevuyu Onayla"]})})]})]})]})]})}function N({name:e,date:a,time:s,business:l,template:r,onNewBooking:i}){return(0,t.jsxs)("div",{className:`min-h-screen bg-gradient-to-br ${r.heroGradient} flex flex-col items-center justify-center px-6 text-center`,children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center mb-6 shadow-2xl",children:(0,t.jsx)(d,{className:"w-12 h-12 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Harika!"}),(0,t.jsx)("p",{className:"text-white/80 text-lg mb-8",children:"Randevunuz alÄ±ndÄ±, onay bekleniyor"}),(0,t.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm rounded-3xl p-6 w-full max-w-xs text-left space-y-4 mb-8 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(m.CalendarDays,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/60 text-xs",children:"Tarih & Saat"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(0,b.formatDayHeader)(a)," Â· ",s]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("span",{className:"text-lg",children:r.emoji})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/60 text-xs",children:"Ä°ÅŸletme"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:l.name}),l.phone&&(0,t.jsx)("p",{className:"text-white/70 text-sm",children:l.phone})]})]})]}),(0,t.jsx)("button",{onClick:i,className:"w-full max-w-xs py-4 rounded-2xl bg-white font-bold text-base transition-all active:scale-[0.98] shadow-lg",style:{color:l.primaryColor},children:"Yeni Randevu Al"})]})}e.s(["default",()=>v],63379)}]);